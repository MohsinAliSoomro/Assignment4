(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1004:function(e,t,a){e.exports={pageWrap:"Uj",heading:"Vj",zapposHomepageNoBanner:"Wj",screenReadersOnly:"Xj"}},1027:function(e,t,a){"use strict";a.r(t),a.d(t,"Landing",(function(){return q}));var n=a(45),o=a.n(n),r=a(28),i=a.n(r),s=a(0),c=a.n(s),g=a(3),d=a.n(g),p=a(29),l=a(9),u=a.n(l),m=a(365),h=a.n(m),v=a(25),f=a.n(v),P=a(53),H=a(484),k=a(246),b=a(26),E=a(24),C=a(486),N=a(150),I=a(485),y=a(92),D=a(241),A=a(11),O=a(10),L=a(7),j=a(4),T=a(64),S=a(140),w=a(62),R=a(95),_=a(44),x=a(1004),M=a.n(x),U=O.shortName,V=O.homepage,z=O.hasHearting,G=O.landing.homepageMarginBanner,B=["genericBrandTrending","productSearch","recommender"],W=["recommender"],q=function(e){function t(t){var a;return(a=e.call(this,t)||this).getIpRestrictedInfo=function(){var e=a.props,t=e.landingPage,n=t.ipStatus,o=(n=void 0===n?{}:n).callCompleted,r=t.pageInfo,i=(r=void 0===r?{}:r).ipRestrictedContentPresent,s=void 0!==i&&i,c=e.getIpRestrictedStatus;s&&!o&&f.a.canUseDOM&&c()},a.makeAction=function(){var e=a.props,t=e.landingPage,n=e.isHomepage,o="Landing-"+t.pageInfo.subPageType+"-"+t.pageName;return n&&(o="Gateway-"+t.pageName),o},a.handleMonetateClick=function(e){var t=a.props.trackLegacyEvent,n=e.target;if(n.closest('[id^="monetate"]')){var o=n.closest("[data-eventlabel]").dataset,r=o.eventlabel,i=o.eventvalue;t(a.makeAction(),r,i)}},a.onComponentClick=a.onComponentClick.bind(o()(a)),a.trackPageView=a.trackPageView.bind(o()(a)),a.makePageHeading=a.makePageHeading.bind(o()(a)),a.getAllHeartCounts=a.getAllHeartCounts.bind(o()(a)),a}i()(t,e),t.beforeFetchDataOnServer=function(e){e.dispatch(Object(E.d)(b.A))},t.fetchDataOnServer=function(e,t,a){var n=a.pageName;return e.dispatch(Object(I.h)(Object(R.a)(t.pathname)?V:n))};var a=t.prototype;return a.componentDidMount=function(){var e=this.props,t=e.track,a=e.location,n=void 0===a?{}:a,o=e.landingPage,r=o.pageName,i=o.pageInfo,s=void 0===i?{}:i,c=e.pageTypeChange,g=e.fetchAllRecommenderDataIfNecessary,d=e.params.pageName,p=e.setupLandingEventWatcher,l=e.isHomepage,u=e.getHearts,m=e.triggerAssignment;(0,e.onEvent)(window,"click",this.handleMonetateClick,null,this),m(b.A);var h=s.slotData,v=n.query,f=void 0===v?{}:v,P=!r||d&&r!==d||l&&r!==V;c(l?"homepage":"landing"),P?this.fetchData(l?V:d):this.trackPageView(d),g(s.slotData),u(),this.getAllHeartCounts(h),f.utm_content&&f.utm_content.includes("postPurchaseSizing")&&t((function(){return[k.c,{query:f}]})),p(this),this.getIpRestrictedInfo()},a.componentDidUpdate=function(e){var t,a=this.props,n=a.params,o=a.landingPage,r=a.isHomepage,i=a.recommenderEntries,s=e.params.pageName,c=e.landingPage.pageInfo,g=e.recommenderEntries,d=n.pageName,p=o.pageInfo;if(s!==d&&(r?this.fetchData(V):o.pageName!==d&&this.fetchData(d)),g!==i){var l=p.slotData,u=void 0===l?{}:l;Object.values(u).some((function(e){return W.includes(e.componentName)}))&&this.getAllHeartCounts(u)}o.pageInfo&&(null==c?void 0:c.canonicalUrl)!==(null==o?void 0:null==(t=o.pageInfo)?void 0:t.canonicalUrl)&&(this.trackPageView(d,this.props),this.getIpRestrictedInfo())},a.getAllHeartCounts=function(e){void 0===e&&(e={});var t=this.props,a=t.getHeartCounts,n=t.recommenderEntries,o=[];Object.values(e).forEach((function(t){var a=t.componentName;B.includes(a)&&o.push.apply(o,Object(S.b)(e,a,n))})),o.length&&a(o)},a.fetchData=function(e){(0,this.props.loadLandingPage)(e)},a.trackPageView=function(e,t){void 0===t&&(t=this.props);var a=t,n=a.firePixelServer,o=a.trackEvent,r=a.track,i=a.isHomepage,s=a.landingPage.pageInfo;i?(o("TE_PV_HOMEPAGE"),n("home")):(o("TE_PV_LANDINGPAGE"),n("landing",{},e)),Object(L.c)();var c=s?s.slotData:null;i&&c?r((function(){return[k.e,{slotData:c}]})):c&&r((function(){return[k.f,{pageName:e,slotData:c}]}))},a.makePageHeading=function(){var e=this.props,t=e.landingPage.pageInfo.pageHeading;return e.isHomepage?c.a.createElement("h1",{className:M.a.screenReadersOnly,"data-test-id":this.context.testId("heading")},U+" Homepage"):t?c.a.createElement("h1",{className:M.a.heading,"data-test-id":this.context.testId("heading"),dangerouslySetInnerHTML:{__html:h.a.sanitize(t)}}):void 0},a.onComponentClick=function(e){var t=this.props.trackLegacyEvent,a=e.currentTarget,n=this.makeAction(),o=Object(A.x)(a.getAttribute("data-eventlabel")),r=Object(A.x)(a.getAttribute("data-eventvalue"));e.stopPropagation(),t(n,o,r)},a.render=function(){var e,t=this.props,a=t.landingPage,n=a.isLoaded,o=a.pageInfo,r=a.pageName,i=a.slotOrder,s=t.isCustomer,g=t.isHomepage,d=t.heartProduct,p=t.hearts,l=t.products,m=t.toggleHeartingLoginModal,h=t.trackEvent,v=t.unHeartProduct,f=t.ipStatus,k=t.slotContentTypesList;if(!n)return c.a.createElement(y.b,null);var b={hasHearting:z,isCustomer:s,heartProduct:d,hearts:p,products:l,toggleHeartingLoginModal:m,trackEvent:h,unHeartProduct:v},E=Object(S.a)(b,{addedFrom:P.h,heartEventName:"TE_LANDING_PRODUCT_HEART",unHeartEventName:"TE_LANDING_PRODUCT_UNHEART"}),C=o.slotData,N=o.pageLayout,I=this.context.testId,A=this;return c.a.createElement(D.a,{loading:!n},c.a.createElement("div",{className:u()(M.a.pageWrap,(e={},e[M.a.zapposHomepageNoBanner]=g&&M.a.zapposHomepageNoBanner&&G,e)),"data-test-id":I("landingPage"),"data-layout":N,"data-page-id":r},A.makePageHeading(),i.map((function(e,t){var a;return c.a.createElement(H.a,{key:e,slotName:e,slotIndex:t,data:C[e],onComponentClick:A.onComponentClick,slotHeartsData:B.includes(null==(a=C[e])?void 0:a.componentName)&&E,shouldLazyLoad:Object(T.g)(t),ipStatus:f,slotContentTypesList:k})}))))},t}(s.Component);q.defaultProps={trackEvent:j.e,trackLegacyEvent:j.f,track:L.d,setupLandingEventWatcher:T.f,onEvent:_.c},q.contextTypes={testId:d.a.func,marketplace:d.a.object},t.default=Object(p.b)((function(e,t){var a,n=!(!f.a.canUseDOM||!e.cookies["x-main"]);return{landingPage:e.landingPage,ipStatus:e.landingPage.ipStatus,isHomepage:Object(R.a)(t.location.pathname),hearts:null==(a=e.hearts)?void 0:a.heartsStyleIds,recommenderEntries:e.recos,isCustomer:n,products:e.products,hydraPersonalizedCategories:Object(E.b)(b.A,1,e)}}),{loadLandingPage:I.h,getIpRestrictedStatus:I.f,fetchAllRecommenderDataIfNecessary:I.a,firePixelServer:N.b,pageTypeChange:C.a,getHeartCounts:w.i,getHearts:w.j,heartProduct:w.m,unHeartProduct:w.p,toggleHeartingLoginModal:w.o,triggerAssignment:E.d})(q)}}]);
//# sourceMappingURL=marty-zappos.Landing.0d572cb1fbd4d8e5755a.js.map